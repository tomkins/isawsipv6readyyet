{% macro service_table(service_list) %}
  <table class="table">
    <thead>
      <tr>
        <th colspan="2" scope="col">Service</th>
        <th scope="col">Rating</th>
        <th scope="col">Updated</th>
      </tr>
    </thead>
    <tbody>
      {% for service in service_list %}
        <tr>
          <td class="service-showhide">
            {% if service.notes %}
              <button class="service-showhide btn collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#service-{{ service.id }}" aria-expanded="false" aria-controls="service-{{ service.id }}"></button>
            {% endif %}
          </td>
          <td class="service-detail">
            <span class="service-name">{{ service.name }}</span>

            {% if service.notes %}
              <ul id="service-{{ service.id }}" class="collapse">
                {% for note in service.notes %}
                  <li>{{ note | safe }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </td>
          <td class="service-score">
            {% if service.score != null %}
              {{ service.score }}/5
            {% else %}
              -
            {% endif %}
          </td>
          <td class="service-updated">
            {{ service.updated }}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endmacro %}
